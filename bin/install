#!/bin/sh
set -e
#
# This script is meant for quick & easy install via:
#   'curl -sSL https://get.minimesos.org/ | sh'
# or:
#   'wget -qO- https://get.minimesos.org/ | sh'
#
# For test builds (ie. release candidates):
#   'curl -sSL https://get.minimesos.org/ | sh'
# or:
#   'wget -qO- https://get.minimesos.org/ | sh'
#

command_exists() {
	command -v "$@" > /dev/null 2>&1
}

curl=''
	if command_exists curl; then
		curl='curl -sSL'
	elif command_exists wget; then
		curl='wget -qO-'
	else
	    echo "Please install curl or wget to fetch the minimesos files"
	    exit 1
	fi

VERSION=0.2.11

mkdir -p /usr/local/share/minimesos

$curl https://jitpack.io/com/github/ContainerSolutions/mini-mesos/$VERSION/mini-mesos-$VERSION.jar > /usr/local/share/minimesos/mini-mesos-0.2.11.jar
$curl https://raw.githubusercontent.com/ContainerSolutions/mini-mesos/$VERSION/bin/minimesos > /usr/local/bin/minimesos

chmod +x /usr/local/bin/minimesos
